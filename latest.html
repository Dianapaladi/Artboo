<!DOCTYPE html> 
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ArtBook</title>
  <link rel="stylesheet" href="style.css">
  <style>
    /* ====== FONT IMPORTS ====== */
    @import url('https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600&family=Raleway:wght@400;600&display=swap');

    /* ====== GLOBAL STYLE ====== */
    body {
      margin: 0;
      padding: 0;
      background-color: #d4b7f1;
      font-family: 'Raleway', sans-serif;
    }

    /* ====== NAVBAR ====== */
    .main-nav {
      background-color: #441851;
      color: white;
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 10px 40px;
      position: relative;
    }

    /* ====== LOGO ====== */
    .logo {
      font-family: 'Playfair Display', serif;
      font-size: 34px;
      color: white;
      letter-spacing: 1px;
    }

    /* ====== SEARCH BOX ====== */
    .search-container {
      position: absolute;
      left: 50%;
      top: 50%;
      transform: translate(-50%, -50%);
    }

    .search-container input {
      padding: 8px 15px;
      border: none;
      border-radius: 20px;
      outline: none;
      font-size: 14px;
      font-family: 'Raleway', sans-serif;
      color: #441851;
      width: 180px;
      transition: width 0.3s ease;
    }

    .search-container input:focus {
      width: 250px;
    }

    /* ====== BUTON CERC MARE ÎN DREAPTA BARA NAV ====== */
    .circle-btn {
      position: absolute;
      top: 50%;
      right: 15px;
      transform: translateY(-50%);
      width: 40px;
      height: 40px;
      background-color: #fff;
      border-radius: 50%;
      display: inline-block;
      text-decoration: none;
      transition: background-color 0.3s, transform 0.3s;
    }

    .circle-btn:hover {
      background-color: #eee;
      transform: translateY(-50%) scale(1.1);
      cursor: pointer;
    }

    /* ====== NAV LINKS ====== */
    .nav-links {
      list-style: none;
      display: flex;
      gap: 35px;
      margin: 0;
      padding: 0;
      position: absolute;
      top: 90px;
      left: 50%;
      transform: translateX(-50%);
    }

    /* ====== NAV ITEMS ====== */
    .nav-links a {
      text-decoration: none;
      color: white;
      background-color: #441851;
      padding: 10px 25px;
      border-radius: 20px;
      font-weight: 600;
      transition: background-color 0.3s ease, color 0.3s ease;
    }

    /* ====== ACTIVE LINK ====== */
    .nav-links a.active {
      background-color: #fff;
      color: #441851;
    }

    /* ====== HOVER EFFECT ====== */
    .nav-links a:hover {
      opacity: 0.9;
    }

    /* ====== TRENDING IMAGES ====== */
    .trending-images {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 20px;
      margin-top: 160px;
    }

    .trending-images img {
      width: 300px;
      border-radius: 15px;
      border: 2px solid transparent;
      transition: border-color 0.3s ease;
    }

    /* ====== BORDER ON HOVER ====== */
    .trending-images img:hover {
      border-color: white;
    }

    /* ====== COMMENT MODAL ====== */
    .comment-modal {
      display: none;
      position: fixed;
      inset: 0;
      background: rgba(68, 24, 81, 0.75);
      backdrop-filter: blur(4px);
      justify-content: center;
      align-items: center;
      z-index: 1000;
    }

    /* ====== CONTAINER ====== */
    .comment-container {
      background-color: white;
      border-radius: 20px;
      width: 80%;
      max-width: 1000px;
      display: flex;
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.25);
      position: relative;
      overflow: hidden;
      animation: fadeIn 0.4s ease;
    }

    /* ====== ANIMATION ====== */
    @keyframes fadeIn {
      from {opacity: 0; transform: scale(0.95);}
      to {opacity: 1; transform: scale(1);}
    }

    /* ====== CLOSE BUTTON ====== */
    .close-btn {
      position: absolute;
      top: 15px;
      right: 20px;
      font-size: 28px;
      color: #441851;
      cursor: pointer;
      transition: 0.3s;
    }
    .close-btn:hover { color: #9b59b6; }

    /* ====== IMAGE (STÂNGA) ====== */
    .comment-left {
      flex: 1;
      background-color: #f0dafa;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .comment-left img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    /* ====== COMENTARII (DREAPTA) ====== */
    .comment-right {
      flex: 1;
      padding: 25px;
      display: flex;
      flex-direction: column;
    }

    .comment-right h3 {
      color: #441851;
      margin-bottom: 15px;
      font-size: 22px;
    }

    .comments-list {
      flex: 1;
      background-color: #f7eaff;
      border-radius: 10px;
      padding: 10px;
      overflow-y: auto;
      margin-bottom: 10px;
    }

    .comments-list p {
      background: white;
      padding: 8px 12px;
      margin-bottom: 8px;
      border-radius: 10px;
      color: #441851;
      border: 1px solid #e0c6f0;
    }

    /* ====== TEXTAREA ȘI BUTON ====== */
    #commentInput {
      border-radius: 10px;
      border: 1px solid #c9a4e2;
      padding: 8px;
      font-family: 'Raleway', sans-serif;
      margin-bottom: 10px;
      resize: none;
      outline: none;
    }

    .submit-comment {
      background-color: #441851;
      color: white;
      border: none;
      border-radius: 10px;
      padding: 10px;
      cursor: pointer;
      font-weight: 600;
      transition: 0.3s;
    }
    .submit-comment:hover {
      background-color: #6a279a;
    }

    /* ====== THEME: DARK ====== */
    body[data-theme="dark"] {
      background-color: #1e1e1e;
      color: white;
    }

    body[data-theme="dark"] .main-nav {
      background-color: #000;
    }

    body[data-theme="dark"] .logo {
      color: #fff;
    }

    body[data-theme="dark"] .circle-btn {
      background-color: #333;
    }

    body[data-theme="dark"] .nav-links a {
      background-color: #222;
      color: #fff;
    }

    body[data-theme="dark"] .nav-links a.active {
      background-color: #fff;
      color: #222;
    }

    body[data-theme="dark"] .nav-links a:hover {
      opacity: 0.8;
    }

    body[data-theme="dark"] .search-container input {
      background-color: #333;
      color: white;
    }

    body[data-theme="dark"] .trending-images img:hover {
      border-color: #bbb;
    }

    body[data-theme="dark"] .comment-modal {
      background: rgba(0,0,0,0.85);
    }

    body[data-theme="dark"] .comment-container {
      background-color: #2a2a2a;
    }

    body[data-theme="dark"] .close-btn {
      color: #fff;
    }

    body[data-theme="dark"] .comment-left {
      background-color: #3a3a3a;
    }

    body[data-theme="dark"] .comment-right h3 {
      color: #fff;
    }

    body[data-theme="dark"] .comments-list {
      background-color: #444;
    }

    body[data-theme="dark"] .comments-list p {
      background-color: #2a2a2a;
      color: #fff;
    }

    body[data-theme="dark"] #commentInput {
      background-color: #333;
      color: white;
      border: 1px solid #555;
    }

    body[data-theme="dark"] .submit-comment {
      background-color: #555;
    }

    body[data-theme="dark"] .submit-comment:hover {
      background-color: #777;
    }

    /* ====== DARK MODE pentru plus-button și modal upload ====== */
    body[data-theme="dark"] .plus-button {
      background-color: #555;
      color: #fff;
    }

    body[data-theme="dark"] .plus-button:hover {
      background-color: #777;
    }

    body[data-theme="dark"] .modal-content {
      background-color: #2a2a2a;
      color: #fff;
    }

    body[data-theme="dark"] #preview {
      background-color: #444;
    }

    body[data-theme="dark"] .file-input {
      background: #333;
      color: #fff;
    }

    body[data-theme="dark"] .upload-btn {
      background-color: #555;
      color: #fff;
    }

    body[data-theme="dark"] .upload-btn:hover {
      background-color: #777;
    }

    body[data-theme="dark"] .close-upload {
      color: #fff;
    }

    /* ====== Meniu de încărcare ====== */
    .share-section {
      background-color: #734781;
      text-align: center;
      padding: 40px 0;
    }

    .share-section h2 {
      color: white;
      margin-top:  35px;
      margin-bottom: 15px;
      font-family: "Segoe UI", sans-serif;
      font-size: 28px;
    }

    .upload-container {
      background: #f7f6fc;
      width: 60%;
      max-width: 600px;
      margin: 0 auto;
      border-radius: 15px;
      padding: 40px 0;
      position: relative;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    }

    .plus-button {
      background-color: #441851;
      color: white;
      font-size: 40px;
      border: none;
      border-radius: 50%;
      width: 60px;
      height: 60px;
      cursor: pointer;
      position: absolute;
      top: 10px;
      left: 50%;
      transform: translateX(-50%);
      box-shadow: 0 4px 8px rgba(0,0,0,0.2);
      transition: all 0.3s;
    }

    .plus-button:hover {
      background-color: #582069;
      transform: translateX(-50%) scale(1.05);
    }

    /* ====== Modal pentru încărcare ====== */
    .modal {
      display: none;
      position: fixed;
      z-index: 999;
      left: 0; top: 0;
      width: 100%; height: 100%;
      background-color: rgba(0,0,0,0.5);
      align-items: center;
      justify-content: center;
      padding: 20px;
      box-sizing: border-box;
    }

    .modal-content {
      background-color: #d4b7f1;
      width: 100%;
      max-width: 540px;
      max-height: 80vh;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.25);
      display: flex;
      flex-direction: column;
      overflow: auto;
      padding: 18px;
      box-sizing: border-box;
    }

    .modal-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 8px;
    }

    .modal-header h3 {
      margin: 0;
    }

    #preview {
      width: 100%;
      max-height: 55vh;
      object-fit: contain;
      border-radius: 8px;
      margin-top: 12px;
      display: block;
    }

    .close-upload {
      color: #333;
      font-size: 20px;
      cursor: pointer;
      background: transparent;
      border: none;
    }

    .upload-actions {
      position: sticky;
      bottom: 0;
      background: linear-gradient(180deg, rgba(212,183,241,0) 0%, rgba(212,183,241,0.85) 85%);
      padding-top: 8px;
      padding-bottom: 8px;
      display: flex;
      justify-content: center;
      gap: 10px;
      margin-top: 10px;
    }

    .upload-btn {
      background-color: #a8a6e3;
      border: none;
      color: white;
      padding: 10px 20px;
      border-radius: 8px;
      cursor: pointer;
      transition: background 0.2s;
    }

    .upload-btn:hover {
      background-color: #8f8dd1;
    }

    .file-input {
      display: inline-block;
      padding: 8px 12px;
      background: rgba(255,255,255,0.9);
      border-radius: 8px;
      cursor: pointer;
      margin-top: 6px;
    }

    .file-input input[type="file"] {
      display: none;
    }

    .trending-images {
      display: flex;
      flex-wrap: wrap;
      gap: 12px;
      padding: 20px;
      justify-content: center;
    }

    .trending-images img {
      max-width: 220px;
      height: auto;
      border-radius: 20px;
      cursor: pointer;
      object-fit: cover;
    }

    .uploaded-img {
      border: 3px solid rgba(255,255,255,0.15);
    }

  </style>
</head>
<body>

  <!-- ====== Bara de navigare ====== -->
  <nav class="main-nav">
    <div class="logo">ArtBook</div>
    <div class="search-container">
      <input type="text" id="searchInput" placeholder="Search artwork...">
    </div>
    <ul class="nav-links">
      <li><a href="index.html">Trending</a></li>
      <li><a href="popular.html">Popular</a></li>
      <li><a href="latest.html" class="active">Latest</a></li>
      <li><a href="creators.html">Creators</a></li>
    </ul>
    <a class="circle-btn"></a>
  </nav>

  <!-- ====== Meniul de încărcare sub bara ====== -->
  <section class="share-section">
    <h2>Împărtășește cu lucrările tale</h2>
    <div class="upload-container">
      <button class="plus-button" id="openUpload">+</button>
    </div>
  </section>

  <!-- ====== Secțiunea cu imagini ====== -->
  <section class="trending-images" id="imageGallery">
    <img src="Imag/Art14.jpg" alt="Artwork 14" class="img14">
    <img src="Imag/Art16.jpg" alt="Artwork 16" class="img16">
    <img src="Imag/Art17.jpg" alt="Artwork 17" class="img17">
    <img src="Imag/Art18.jpg" alt="Artwork 18" class="img18">
    <img src="Imag/Art19.jpg" alt="Artwork 19" class="img19">
  </section>

  <!-- ====== Fereastra de comentarii ====== -->
  <div class="comment-modal" id="commentModal">
    <div class="comment-container">
      <span class="close-btn" id="closeModal">&times;</span>

      <div class="comment-left">
        <img id="selectedImage" src="" alt="Selected artwork">
      </div>

      <div class="comment-right">
        <h3>Comentarii</h3>
        <div class="comments-list" id="commentsList"></div>

        <textarea id="commentInput" placeholder="Scrie un comentariu..." rows="4"></textarea>
        <button class="submit-comment" id="submitComment">Trimite</button>
      </div>
    </div>
  </div>

  <!-- ====== Fereastra de încărcare imagine ====== -->
  <div id="uploadModal" class="modal" role="dialog" aria-modal="true" aria-labelledby="uploadTitle">
    <div class="modal-content">
      <div class="modal-header">
        <h3 id="uploadTitle">Alege o imagine pentru a o încărca</h3>
        <button class="close-upload" id="closeUpload" aria-label="Close">&times;</button>
      </div>

      <label class="file-input" for="fileInput">Alege fișier
        <input type="file" id="fileInput" accept="image/*">
      </label>

      <img id="preview" src="" alt="Preview">

      <div class="upload-actions">
        <button class="upload-btn" id="uploadBtn">Încarcă imaginea</button>
      </div>
    </div>
  </div>

  <!-- ====== Scripturi ====== -->
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      /* ====== BARA DE CĂUTARE ====== */
      const searchInput = document.getElementById('searchInput');
      const imageGallery = document.getElementById('imageGallery');

      searchInput.addEventListener('keyup', () => {
        const filter = searchInput.value.toLowerCase();
        const imgs = imageGallery.querySelectorAll('img');
        imgs.forEach(img => {
          const name = (img.alt || img.src).toLowerCase();
          img.style.display = name.includes(filter) ? 'block' : 'none';
        });
      });

      /* ====== SISTEM DE COMENTARII ====== */
      const modalComment = document.getElementById('commentModal');
      const selectedImage = document.getElementById('selectedImage');
      const commentsList = document.getElementById('commentsList');
      const commentInput = document.getElementById('commentInput');
      const submitComment = document.getElementById('submitComment');
      const closeModal = document.getElementById('closeModal');
      let currentImageSrc = '';
      let comments = {};

      imageGallery.addEventListener('click', (e) => {
        if (e.target.tagName === 'IMG') {
          currentImageSrc = e.target.src;
          selectedImage.src = currentImageSrc;
          modalComment.style.display = 'flex';
          loadComments();
        }
      });

      closeModal.addEventListener('click', () => modalComment.style.display = 'none');
      window.addEventListener('click', (e) => {
        if (e.target === modalComment) modalComment.style.display = 'none';
      });

      submitComment.addEventListener('click', () => {
        const text = commentInput.value.trim();
        if (text === '') return;
        if (!comments[currentImageSrc]) comments[currentImageSrc] = [];
        comments[currentImageSrc].push(text);
        commentInput.value = '';
        loadComments();
      });

      function loadComments() {
        commentsList.innerHTML = '';
        if (comments[currentImageSrc]) {
          comments[currentImageSrc].forEach(c => {
            const div = document.createElement('div');
            div.className = 'comment';
            div.textContent = c;
            commentsList.appendChild(div);
          });
        }
      }

      /* ====== FEREASTRA DE ÎNCĂRCARE ====== */
      const openUpload = document.getElementById('openUpload');
      const uploadModal = document.getElementById('uploadModal');
      const closeUpload = document.getElementById('closeUpload');
      const fileInput = document.getElementById('fileInput');
      const preview = document.getElementById('preview');
      let uploadedImageSrc = '';

      openUpload.onclick = () => uploadModal.style.display = 'flex';
      closeUpload.onclick = () => uploadModal.style.display = 'none';
      window.addEventListener('click', (event) => {
        if (event.target === uploadModal) uploadModal.style.display = 'none';
      });

      fileInput.addEventListener("change", (event) => {
        const file = event.target.files[0];
        if (!file) return;
        const reader = new FileReader();
        reader.onload = e => {
          preview.src = e.target.result;
          uploadedImageSrc = e.target.result;
          uploadModal.querySelector('.modal-content').scrollTop = 0;
        };
        reader.readAsDataURL(file);
      });

      document.getElementById("uploadBtn").addEventListener("click", () => {
        if (uploadedImageSrc) {
          const newImg = document.createElement("img");
          newImg.src = uploadedImageSrc;
          newImg.alt = "Lucrare nouă";
          newImg.className = "uploaded-img";
          imageGallery.insertBefore(newImg, imageGallery.firstChild);
          uploadModal.style.display = "none";
          fileInput.value = "";
          preview.src = "";
          uploadedImageSrc = "";
        } else {
          alert("Selectează o imagine înainte de a încărca!");
        }
      });

      /* ====== DARK/LIGHT THEME ====== */
      const themeBtn = document.querySelector('.circle-btn');
      themeBtn.addEventListener('click', () => {
        const body = document.body;
        if (body.getAttribute("data-theme") === "light") {
          body.setAttribute("data-theme", "dark");
          localStorage.setItem("theme", "dark");
        } else {
          body.setAttribute("data-theme", "light");
          localStorage.setItem("theme", "light");
        }
      });

      const savedTheme = localStorage.getItem("theme");
      if (savedTheme) {
        document.body.setAttribute("data-theme", savedTheme);
      } else {
        document.body.setAttribute("data-theme", "light");
      }
    });
  </script>

</body>
</html>
